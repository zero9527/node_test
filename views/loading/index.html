<!DOCTYPE html>
<html>
<head>
    <title>loading加载框</title>
    <meta name='viewport' content='width=device-width,initial-scale=1.0,user-scalable=no'>
    <style>
        /* 一 */
        * {margin: 0;padding: 0;box-sizing: border-box;list-style:none;}
        .loading1 {
            width: 30vmin;
            height: 30vmin;
            max-width: 120px;
            max-height: 120px;
            min-width: 120px;min-height: 120px;
            position: relative;
            /*position: fixed;*/
            /*top: -60px;*/
            right: 0;
            left: 0;
            /*bottom: 0;*/
            margin: auto;
            display: flex;
            flex-flow: column;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            background: rgba(0,0,0,.7);
            box-sizing: content-box;
            z-index: 10000;
        }
        .load1 {
            width: 30px;
            height: 30px;
            display: block;
            margin-bottom: 16px;
            border-radius: 50%;
            border: 2px solid #999;
            border-right: 2px solid #eee;
            animation: run linear 1s infinite;
        }
        .loading1>p {color: #fff;font-size: 14px;}
        @keyframes run {
            0% {transform: rotate(0);}
            25% {transform: rotate(90deg);}
            50% {transform: rotate(180deg);}
            75% {transform: rotate(270deg);}
            100% {transform: rotate(360deg);}
        }
    </style>
    <style>
        /*@keyframes go {from {opacity: 1;}to{opacity: .1;}}*/
    </style>
    <style>
        /* 三 */
        .loading3 {
            width: 30vmin;
            height: 30vmin;
            max-width: 120px;
            max-height: 120px;
            min-width: 120px;min-height: 120px;
            position: relative;
            /*position: fixed;*/
            /*top: -60px;*/
            top: 20px;
            right: 0;
            left: 0;
            /*bottom: 0;*/
            margin: auto;
            display: flex;
            flex-flow: column;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            background: rgba(0,0,0,.7);
            box-sizing: content-box;
            z-index: 10000;
        }
        .load3 {
            width: 30px;
            height: 30px;
            display: block;
            margin-bottom: 16px;
            border-radius: 50%;
            border: 2px solid #eee;
            border-right: 2px solid rgba(0,0,0,0);
            animation: run3 linear 1s infinite;
        }
        .loading3>p {color: #fff;font-size: 14px;}
        @keyframes run3 {
            0% {transform: rotate(0);}
            25% {transform: rotate(90deg);}
            50% {transform: rotate(180deg);}
            75% {transform: rotate(270deg);}
            100% {transform: rotate(360deg);}
        }
    </style>
    <style>
        /* 四 */
        .loading4 {
            width: 30vmin;
            height: 30vmin;
            max-width: 120px;
            max-height: 120px;
            min-width: 120px;min-height: 120px;
            position: relative;
            /*position: fixed;*/
            /*top: -60px;*/
            top: 30px;
            right: 0;
            left: 0;
            /*bottom: 0;*/
            margin: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            background: #fff;
            box-shadow: 2px 1px 10px rgba(0,0,0,.2);
            box-sizing: content-box;
            z-index: 10000;
        }
        .loading4>span {
            width: 4px;
            height: 30px;
            margin: 0 4px;
            border-radius: 8px;
            background: #aaa;
            animation: ring .3s linear infinite alternate;
        }
        .loading4>span:nth-of-type(2n) {
            animation-delay: .2s;
        }
        .loading4>span:nth-of-type(2n+1) {
            animation-delay: .4s;
        }
        @keyframes ring {
            from {
                height: 30px;
                opacity: 1;
                margin-left: 2px;
            }
            to {
                height: 50px;
                width: 6px;
                opacity: .4;
            }
        }
    </style>
</head>
<body>
    <!-- 一 -->
    <div class='loading1'>
        <div class='load1'></div>
        <p>加载中···</p>
    </div>
    <!-- 二-1 -->
    <div class='__loading2_1' style='width: 30vmin;height: 30vmin;max-height: 120px;max-width: 120px;min-height: 120px;min-width: 120px;position: relative;top: 10px;right: 0;bottom: 0;left: 0;margin: auto;display: flex;flex-flow: column;align-items: center;justify-content: center;border-radius: 6px;background: rgba(0,0,0,.7);z-index: 10000;@keyframes go {from {opacity: 1;}to{opacity: .05;}}'>
        <ul style='width: 12vmin;height: 12vmin;max-width: 40px;max-height: 40px;min-width: 30px;min-height: 30px;position: relative;list-style: none;'>
            <!-- <li></li> -->
        </ul>
        <p style='margin-top: 10px;color: #fff;font-size: 16px;'>加载中···</p>
    </div>
    <!-- 三 -->
    <div class='loading3'>
        <div class='load3'></div>
        <p>加载中···</p>
    </div>
    <!-- 四 -->
    <div class='loading4'>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
    <!-- 五 js: requestAnimationFrame -->
    <div class='loading5'>
        <div class='load5'></div>
        <p>加载中···</p>
        <button class='btn'>走起</button>
    </div>
    <script>
        var style = document.createElement('style');
        var head = document.querySelector('head');
        if(document.querySelector('style')){
            document.querySelector('style').innerHTML += '@keyframes go {from {opacity: 1;}to{opacity: .1;}}';
        }else{
            style.innerHTML = '@keyframes go {from {opacity: 1;}to{opacity: .1;}}';
            head.appendChild(style);
        }
        // 二-1
        var __loading2_1 = document.querySelector('.__loading2_1');
        var lihtml = '';
        for(var i=0; i<10; i++){
            lihtml += '<li></li>';
        }
        __loading2_1.querySelector('ul').innerHTML = lihtml;
        var loadli = __loading2_1.querySelectorAll('li');
            console.log(loadli);
        var delay = 1/loadli.length;
        var deg = 360/loadli.length;
        var reqaf;
        var num = 0;
        loadli.forEach(function(item, index){
            console.log(item, index);
            item.setAttribute('style',
                'width: 4px;height: 12px;position: absolute;border-radius: 10px;background: #eee;transform-origin: center;opacity: 0;animation: go linear 1s infinite;left:50%;top:50%;margin-top:-6px;'+
                'transform: rotate(' + deg*index + 'deg) translateY(-16px);'+
                'animation-delay:'+ delay*index +'s;'
            );

        })

    </script>
    <script>
        // 五 requestAnimationFrame
        var style = document.createElement('style');
        style.innerHTML = '.loading5{width: 30vmin;height: 30vmin;max-width: 120px;max-height: 120px;min-width: 120px;min-height: 120px;position: relative;/* position: fixed; *//* top: -60px; */top: 40px;right: 0;left: 0;/* bottom: 0; */margin: auto;display: flex;flex-flow:column;align-items: center;justify-content: center;border-radius: 6px;background: #fff;box-shadow: 2px 1px 10px rgba(0,0,0,.2);box-sizing: content-box;z-index: 10000;}';
        // 添加样式
        document.head.appendChild(style);  
        var num = 0;
        var timer;
        // 监听 文档树构建（获取dom元素最早可以放到这里）
        document.addEventListener('DOMContentLoaded', load, false);
        function load(){
            var load5 = document.querySelector('.loading5');
            var loadson = load5.querySelector('.load5');

            document.querySelector('.btn').onclick = function(){
                cancelAnimationFrame(timer);
                timer = requestAnimationFrame(function fn(){
                    if(num >= 100){
                        cancelAnimationFrame(timer);
                    }else{
                        num++;
                        loadson.innerHTML = num;
                        timer = requestAnimationFrame(fn)
                    }
                })
            }
        }
    </script>
</body>
</html>